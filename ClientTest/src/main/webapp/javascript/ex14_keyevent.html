<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
    <style>
        input, textarea {
            display: block;
            margin-bottom: 10px;
            outline: none;
            /* width: 300px; */
        }
        input { padding: 5px;}
        /* textarea { height: 200px;} */
    </style>

<body>
    
    <h1>키 이벤트</h1>

    <form name="form1">
        <input type="text" name="txt1">
        <input type="text" name="txt2">
        <textarea name="txt3"></textarea>

    </form>

    <script>

        /*
        
            키 관련 이벤트
            - onkeyXXX

            1. onkeydown
                - 키를 눌렀을 때 발생
                - 입력된 (물리)키는 구분 가능
                - 입력된 문자는 구분이 불가능
                - 물리키를 구분하는 용도
                - 모든키에 반응(***)
                - 방금 누른 문자를 반영할 수 없다

            2. onkeyup
                - 키를 땟을 때 발생
                - 방금 누른 문자가 필요한 업무에 활용

            3. onkeypress
                - 키를 눌렀을 때 발생
                - 입력된 문자를 구분 가능
                - 문자키에만 반응(***)
        
        */

        var txt1 = window.document.form1.txt1;
        var txt2 = window.document.form1.txt2;
        var txt3 = window.document.form1.txt3;

        txt1.onkeydown = m1;
        txt1.onkeyup = m2;
        // txt1.onkeypress = m3;
        

        function m1() {
            // console.log('keydown');
            console.log(event.keyCode); //입력한 문자 코드

            //방향키
            //- 좌(37), 상(38), 우(39), 하(40)
            
            // 박스 좌우 크기 방향키로 조절
            if(event.keyCode == 37){
                txt1.size -= 1;
            }else if(event.keyCode == 39){
                txt1.size += 1;
            }


            //박스 상하 좌우 크기 방향키 조절
            // if(event.keyCode == 37){
            //     txt3.cols--;
            // }if(event.keyCode == 39){
            //     txt3.cols++;
            // }if(event.keyCode == 38){
            //     txt3.rows--;
            // }if(event.keyCode == 40){
            //     txt3.rows++;
            // }

            
            //키다운이 한박자 늦게 출력결과가 나옴
            /*
                키다운 > 해당텍스트 입력 > 키업 임, 
                키다운시 키다운 event 만 확인되고 아직 입력된텍스트가 없는 경우임
                그래서 텍스트가 없어서 출력해줄게 없음
                다음 키누를때 전에 입력한 텍스트가 출력되서 한박자 느리게보임

                키업으로 하면 텍스트 입력이 방금전에 실행됐기때문에 바로 출력해준다
            */
            // console.log(txt1.value);
            txt2.value = txt1.value;


        }
        
        function m2() {
            // console.log('keyup');
            console.log(txt1.value);
            txt2.value = txt1.value;
        }
        
        function m3() {
            // console.log('keypress');
            console.log(event.keyCode);
        }





    </script>

</body>
</html>